<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Planning Formateurs - ENO Sébikotane</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #0f2b46;
            --secondary: #2d6b9c;
            --accent: #ff6b35;
            --light: #f0f7ff;
            --formateur1: #3b82f6; /* SY */
            --formateur2: #8b5cf6; /* DIONE */
            --formateur3: #10b981; /* MBAYE */
            --formateur4: #f59e0b; /* DIOP */
            --formateur5: #ef4444; /* SALL */
        }

        body {
            font-family: 'Segoe UI', 'Roboto', Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8f0 100%);
            color: #333;
            line-height: 1.5;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
        }

        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 30px 40px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
        }

        .title h1 {
            margin: 10px 0;
            font-size: 32px;
            text-align: center;
        }

        .title h3 {
            margin: 5px 0;
            text-align: center;
            font-weight: 400;
            opacity: 0.9;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin-top: 25px;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            padding: 15px;
            border-radius: 16px;
            text-align: center;
            border: 1px solid rgba(255, 255, 255, 0.25);
        }

        .stat-number {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 5px;
            display: block;
        }

        .stat-label {
            font-size: 13px;
            opacity: 0.9;
        }

        .formateurs-overview {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin: 25px 0;
        }

        .formateur-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border-top: 5px solid;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .formateur-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .formateur-card.active {
            box-shadow: 0 0 0 3px var(--accent);
        }

        .formateur-card:nth-child(1) { border-color: var(--formateur1); }
        .formateur-card:nth-child(2) { border-color: var(--formateur2); }
        .formateur-card:nth-child(3) { border-color: var(--formateur3); }
        .formateur-card:nth-child(4) { border-color: var(--formateur4); }
        .formateur-card:nth-child(5) { border-color: var(--formateur5); }

        .formateur-name {
            font-size: 22px;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .formateur-card:nth-child(1) .formateur-name { color: var(--formateur1); }
        .formateur-card:nth-child(2) .formateur-name { color: var(--formateur2); }
        .formateur-card:nth-child(3) .formateur-name { color: var(--formateur3); }
        .formateur-card:nth-child(4) .formateur-name { color: var(--formateur4); }
        .formateur-card:nth-child(5) .formateur-name { color: var(--formateur5); }

        .specialite {
            font-size: 12px;
            padding: 4px 10px;
            border-radius: 15px;
            background: var(--light);
            display: inline-block;
            margin: 5px 0;
        }

        .disponibilite {
            font-size: 11px;
            color: #666;
            margin-top: 8px;
        }

        .section-title {
            font-size: 24px;
            color: var(--primary);
            margin: 35px 0 20px;
            padding-bottom: 12px;
            border-bottom: 3px solid var(--accent);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .planning-table {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            margin-bottom: 30px;
            overflow-x: auto;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 11px;
            min-width: 800px;
        }

        thead {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
        }

        th {
            padding: 12px 8px;
            color: white;
            font-weight: 600;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        td {
            padding: 10px 8px;
            border-bottom: 1px solid #eef2f7;
            text-align: center;
            vertical-align: middle;
        }

        tr:nth-child(even) {
            background-color: #f9fbfd;
        }

        .formateur-badge {
            display: inline-block;
            padding: 4px 8px;
            color: white;
            border-radius: 10px;
            font-size: 10px;
            font-weight: 600;
            margin: 1px;
        }

        .badge-sy { background: var(--formateur1); }
        .badge-dione { background: var(--formateur2); }
        .badge-mbaye { background: var(--formateur3); }
        .badge-diop { background: var(--formateur4); }
        .badge-sall { background: var(--formateur5); }

        .session-badge {
            display: inline-block;
            padding: 3px 6px;
            background: #f0f7ff;
            border-radius: 8px;
            font-size: 9px;
            margin: 1px;
        }

        .time-badge {
            display: inline-block;
            padding: 3px 6px;
            border-radius: 8px;
            font-size: 9px;
            font-weight: 600;
            margin: 1px;
        }

        .matin { background: #fef3c7; color: #d97706; }
        .aprem { background: #dbeafe; color: #1d4ed8; }
        .vendredi { background: #f3e8ff; color: #7c3aed; }

        .summary {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
            margin: 25px 0;
        }

        .summary-card {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border-top: 5px solid;
        }

        .summary-card:nth-child(1) { border-color: var(--formateur1); }
        .summary-card:nth-child(2) { border-color: var(--formateur2); }
        .summary-card:nth-child(3) { border-color: var(--formateur3); }
        .summary-card:nth-child(4) { border-color: var(--formateur4); }
        .summary-card:nth-child(5) { border-color: var(--formateur5); }

        .summary-title {
            font-size: 18px;
            font-weight: 700;
            margin-bottom: 15px;
            text-align: center;
        }

        .session-count {
            font-size: 32px;
            font-weight: 800;
            text-align: center;
            margin: 10px 0;
        }

        .module-distribution {
            font-size: 11px;
            margin-top: 10px;
        }

        .module-item {
            display: flex;
            justify-content: space-between;
            padding: 4px 0;
            border-bottom: 1px dashed #eee;
        }

        /* Styles pour le planning par formateur */
        .formateur-planning-container {
            display: none;
            margin-top: 30px;
        }

        .formateur-planning-container.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .formateur-header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            color: white;
            padding: 20px;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .formateur-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .formateur-avatar {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            color: white;
            font-weight: bold;
        }

        .avatar-sy { background: var(--formateur1); }
        .avatar-dione { background: var(--formateur2); }
        .avatar-mbaye { background: var(--formateur3); }
        .avatar-diop { background: var(--formateur4); }
        .avatar-sall { background: var(--formateur5); }

        .formateur-details h3 {
            margin: 0;
            font-size: 24px;
        }

        .formateur-details p {
            margin: 5px 0 0;
            opacity: 0.9;
        }

        .formateur-stats {
            display: flex;
            gap: 20px;
            text-align: center;
        }

        .stat-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 15px;
            border-radius: 10px;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 800;
            display: block;
        }

        .stat-label-small {
            font-size: 11px;
            opacity: 0.9;
        }

        .formateur-sessions {
            background: white;
            padding: 25px;
            border-radius: 0 0 15px 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
        }

        .sessions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .session-card {
            background: var(--light);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--accent);
        }

        .session-date {
            font-weight: 700;
            color: var(--primary);
            font-size: 14px;
            margin-bottom: 5px;
        }

        .session-details {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
        }

        .session-group {
            font-weight: 600;
            color: var(--secondary);
        }

        .session-module {
            background: white;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
        }

        .session-time-room {
            font-size: 11px;
            color: #666;
            margin-top: 8px;
            display: flex;
            justify-content: space-between;
        }

        .tabs {
            display: flex;
            background: white;
            border-radius: 12px 12px 0 0;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-top: 30px;
        }

        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            background: #f8fafc;
            cursor: pointer;
            font-weight: 600;
            color: var(--primary);
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
        }

        .tab:hover {
            background: #e2e8f0;
        }

        .tab.active {
            background: white;
            border-bottom: 3px solid var(--accent);
            color: var(--accent);
        }

        .print-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--accent);
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 1200px) {
            .formateurs-overview, .summary, .stats-grid {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .sessions-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .formateurs-overview, .summary, .stats-grid, .sessions-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 24px;
            }
            
            .section-title {
                font-size: 20px;
            }
            
            .tabs {
                flex-direction: column;
            }
            
            .formateur-header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
        }

        @media print {
            body {
                padding: 10px;
                font-size: 10px;
                background: white;
            }
            
            .print-button, .tabs {
                display: none;
            }
            
            .planning-table, .formateur-sessions {
                box-shadow: none;
                border: 1px solid #ddd;
            }
            
            .formateur-planning-container {
                display: block !important;
                page-break-before: always;
            }
        }
    </style>
</head>
<body>
<div class="container">
    <!-- Bouton d'impression -->
    <button class="print-button" onclick="window.print()">
        <i class="fas fa-print"></i> Imprimer
    </button>

    <!-- HEADER -->
    <div class="header">
        <div class="title">
            <h1><i class="fas fa-chalkboard-teacher"></i> PLANNING DES FORMATEURS</h1>
            <h3>ENO DE SÉBIKOTANE - Année Académique 2025-2026</h3>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <span class="stat-number" id="totalSessions">135</span>
                <span class="stat-label">Sessions totales</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">5</span>
                <span class="stat-label">Formateurs</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">27</span>
                <span class="stat-label">Groupes</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">5</span>
                <span class="stat-label">Modules</span>
            </div>
            <div class="stat-card">
                <span class="stat-number">8</span>
                <span class="stat-label">Semaines</span>
            </div>
        </div>
    </div>

    <!-- PRÉSENTATION DES FORMATEURS -->
    <h2 class="section-title"><i class="fas fa-users"></i> Présentation des Formateurs</h2>

    <div class="formateurs-overview">
        <div class="formateur-card active" data-formateur="SY">
            <div class="formateur-name">M. SY</div>
            <div class="specialite">Tous les modules</div>
            <div class="disponibilite">
                <i class="fas fa-sun"></i> <strong>Après-midi uniquement</strong><br>
                (14h00-18h00 / 15h00-19h00 vendredi)
            </div>
        </div>
        <div class="formateur-card" data-formateur="DIONE">
            <div class="formateur-name">M. DIONE</div>
            <div class="specialite">Tous les modules</div>
            <div class="disponibilite">
                <i class="fas fa-sun"></i> <strong>Matin uniquement</strong><br>
                (8h30-12h30)
            </div>
        </div>
        <div class="formateur-card" data-formateur="MBAYE">
            <div class="formateur-name">M. MBAYE</div>
            <div class="specialite">Tous les modules</div>
            <div class="disponibilite">
                <i class="fas fa-clock"></i> Matin ou Après-midi<br>
                Flexible
            </div>
        </div>
        <div class="formateur-card" data-formateur="DIOP">
            <div class="formateur-name">M. DIOP</div>
            <div class="specialite">Tous sauf ENT</div>
            <div class="disponibilite">
                <i class="fas fa-clock"></i> Matin ou Après-midi<br>
                Modules S1-S4 seulement
            </div>
        </div>
        <div class="formateur-card" data-formateur="SALL">
            <div class="formateur-name">M. SALL</div>
            <div class="specialite">ENT seulement</div>
            <div class="disponibilite">
                <i class="fas fa-clock"></i> Matin ou Après-midi<br>
                Module S5 uniquement
            </div>
        </div>
    </div>

    <!-- RÉSUMÉ PAR FORMATEUR -->
    <h2 class="section-title"><i class="fas fa-chart-bar"></i> Répartition des Sessions</h2>

    <div class="summary">
        <div class="summary-card">
            <div class="summary-title" style="color: var(--formateur1);">M. SY</div>
            <div class="session-count">27 sessions</div>
            <div class="module-distribution">
                <div class="module-item"><span>S1:</span> <strong>6</strong></div>
                <div class="module-item"><span>S2:</span> <strong>6</strong></div>
                <div class="module-item"><span>S3:</span> <strong>6</strong></div>
                <div class="module-item"><span>S4:</span> <strong>6</strong></div>
                <div class="module-item"><span>S5:</span> <strong>3</strong></div>
                <div class="module-item" style="border-top: 2px solid var(--formateur1); margin-top: 5px; padding-top: 5px;">
                    <span><strong>Total:</strong></span> <strong>27</strong>
                </div>
            </div>
        </div>
        <div class="summary-card">
            <div class="summary-title" style="color: var(--formateur2);">M. DIONE</div>
            <div class="session-count">27 sessions</div>
            <div class="module-distribution">
                <div class="module-item"><span>S1:</span> <strong>6</strong></div>
                <div class="module-item"><span>S2:</span> <strong>6</strong></div>
                <div class="module-item"><span>S3:</span> <strong>6</strong></div>
                <div class="module-item"><span>S4:</span> <strong>6</strong></div>
                <div class="module-item"><span>S5:</span> <strong>3</strong></div>
                <div class="module-item" style="border-top: 2px solid var(--formateur2); margin-top: 5px; padding-top: 5px;">
                    <span><strong>Total:</strong></span> <strong>27</strong>
                </div>
            </div>
        </div>
        <div class="summary-card">
            <div class="summary-title" style="color: var(--formateur3);">M. MBAYE</div>
            <div class="session-count">27 sessions</div>
            <div class="module-distribution">
                <div class="module-item"><span>S1:</span> <strong>6</strong></div>
                <div class="module-item"><span>S2:</span> <strong>6</strong></div>
                <div class="module-item"><span>S3:</span> <strong>6</strong></div>
                <div class="module-item"><span>S4:</span> <strong>6</strong></div>
                <div class="module-item"><span>S5:</span> <strong>3</strong></div>
                <div class="module-item" style="border-top: 2px solid var(--formateur3); margin-top: 5px; padding-top: 5px;">
                    <span><strong>Total:</strong></span> <strong>27</strong>
                </div>
            </div>
        </div>
        <div class="summary-card">
            <div class="summary-title" style="color: var(--formateur4);">M. DIOP</div>
            <div class="session-count">27 sessions</div>
            <div class="module-distribution">
                <div class="module-item"><span>S1:</span> <strong>7</strong></div>
                <div class="module-item"><span>S2:</span> <strong>7</strong></div>
                <div class="module-item"><span>S3:</span> <strong>7</strong></div>
                <div class="module-item"><span>S4:</span> <strong>6</strong></div>
                <div class="module-item"><span>S5:</span> <strong>0</strong></div>
                <div class="module-item" style="border-top: 2px solid var(--formateur4); margin-top: 5px; padding-top: 5px;">
                    <span><strong>Total:</strong></span> <strong>27</strong>
                </div>
            </div>
        </div>
        <div class="summary-card">
            <div class="summary-title" style="color: var(--formateur5);">M. SALL</div>
            <div class="session-count">27 sessions</div>
            <div class="module-distribution">
                <div class="module-item"><span>S1:</span> <strong>0</strong></div>
                <div class="module-item"><span>S2:</span> <strong>0</strong></div>
                <div class="module-item"><span>S3:</span> <strong>0</strong></div>
                <div class="module-item"><span>S4:</span> <strong>0</strong></div>
                <div class="module-item"><span>S5:</span> <strong>27</strong></div>
                <div class="module-item" style="border-top: 2px solid var(--formateur5); margin-top: 5px; padding-top: 5px;">
                    <span><strong>Total:</strong></span> <strong>27</strong>
                </div>
            </div>
        </div>
    </div>

    <!-- TABS POUR LES DIFFÉRENTS PLANNINGS -->
    <div class="tabs">
        <div class="tab active" data-tab="global">Planning Global</div>
        <div class="tab" data-tab="sy">M. SY</div>
        <div class="tab" data-tab="dione">M. DIONE</div>
        <div class="tab" data-tab="mbaye">M. MBAYE</div>
        <div class="tab" data-tab="diop">M. DIOP</div>
        <div class="tab" data-tab="sall">M. SALL</div>
    </div>

    <!-- PLANNING GLOBAL -->
    <div class="planning-table" id="planning-global">
        <table>
            <thead>
                <tr>
                    <th>Semaine</th>
                    <th>Lundi</th>
                    <th>Mardi</th>
                    <th>Mercredi</th>
                    <th>Jeudi</th>
                    <th>Vendredi</th>
                </tr>
            </thead>
            <tbody id="planningTable">
                <!-- Le planning global sera généré par JavaScript -->
            </tbody>
        </table>
    </div>

    <!-- PLANNING PAR FORMATEUR - M. SY -->
    <div class="formateur-planning-container" id="planning-sy">
        <div class="formateur-header">
            <div class="formateur-info">
                <div class="formateur-avatar avatar-sy">SY</div>
                <div class="formateur-details">
                    <h3>M. SY</h3>
                    <p>Tous les modules • Après-midi uniquement (14h-18h / 15h-19h vendredi)</p>
                </div>
            </div>
            <div class="formateur-stats">
                <div class="stat-item">
                    <span class="stat-value">27</span>
                    <span class="stat-label-small">Sessions</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">5</span>
                    <span class="stat-label-small">Modules</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">8</span>
                    <span class="stat-label-small">Semaines</span>
                </div>
            </div>
        </div>
        <div class="formateur-sessions">
            <div class="sessions-grid" id="sessions-sy">
                <!-- Sessions de M. SY seront générées par JavaScript -->
            </div>
        </div>
    </div>

    <!-- PLANNING PAR FORMATEUR - M. DIONE -->
    <div class="formateur-planning-container" id="planning-dione">
        <div class="formateur-header">
            <div class="formateur-info">
                <div class="formateur-avatar avatar-dione">DI</div>
                <div class="formateur-details">
                    <h3>M. DIONE</h3>
                    <p>Tous les modules • Matin uniquement (8h30-12h30)</p>
                </div>
            </div>
            <div class="formateur-stats">
                <div class="stat-item">
                    <span class="stat-value">27</span>
                    <span class="stat-label-small">Sessions</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">5</span>
                    <span class="stat-label-small">Modules</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">8</span>
                    <span class="stat-label-small">Semaines</span>
                </div>
            </div>
        </div>
        <div class="formateur-sessions">
            <div class="sessions-grid" id="sessions-dione">
                <!-- Sessions de M. DIONE seront générées par JavaScript -->
            </div>
        </div>
    </div>

    <!-- PLANNING PAR FORMATEUR - M. MBAYE -->
    <div class="formateur-planning-container" id="planning-mbaye">
        <div class="formateur-header">
            <div class="formateur-info">
                <div class="formateur-avatar avatar-mbaye">MB</div>
                <div class="formateur-details">
                    <h3>M. MBAYE</h3>
                    <p>Tous les modules • Flexible (Matin ou Après-midi)</p>
                </div>
            </div>
            <div class="formateur-stats">
                <div class="stat-item">
                    <span class="stat-value">27</span>
                    <span class="stat-label-small">Sessions</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">5</span>
                    <span class="stat-label-small">Modules</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">8</span>
                    <span class="stat-label-small">Semaines</span>
                </div>
            </div>
        </div>
        <div class="formateur-sessions">
            <div class="sessions-grid" id="sessions-mbaye">
                <!-- Sessions de M. MBAYE seront générées par JavaScript -->
            </div>
        </div>
    </div>

    <!-- PLANNING PAR FORMATEUR - M. DIOP -->
    <div class="formateur-planning-container" id="planning-diop">
        <div class="formateur-header">
            <div class="formateur-info">
                <div class="formateur-avatar avatar-diop">DP</div>
                <div class="formateur-details">
                    <h3>M. DIOP</h3>
                    <p>Tous les modules SAUF ENT • Matin ou Après-midi</p>
                </div>
            </div>
            <div class="formateur-stats">
                <div class="stat-item">
                    <span class="stat-value">27</span>
                    <span class="stat-label-small">Sessions</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">4</span>
                    <span class="stat-label-small">Modules</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">8</span>
                    <span class="stat-label-small">Semaines</span>
                </div>
            </div>
        </div>
        <div class="formateur-sessions">
            <div class="sessions-grid" id="sessions-diop">
                <!-- Sessions de M. DIOP seront générées par JavaScript -->
            </div>
        </div>
    </div>

    <!-- PLANNING PAR FORMATEUR - M. SALL -->
    <div class="formateur-planning-container" id="planning-sall">
        <div class="formateur-header">
            <div class="formateur-info">
                <div class="formateur-avatar avatar-sall">SL</div>
                <div class="formateur-details">
                    <h3>M. SALL</h3>
                    <p>ENT seulement (Module S5) • Matin ou Après-midi</p>
                </div>
            </div>
            <div class="formateur-stats">
                <div class="stat-item">
                    <span class="stat-value">27</span>
                    <span class="stat-label-small">Sessions</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">1</span>
                    <span class="stat-label-small">Module</span>
                </div>
                <div class="stat-item">
                    <span class="stat-value">4</span>
                    <span class="stat-label-small">Semaines</span>
                </div>
            </div>
        </div>
        <div class="formateur-sessions">
            <div class="sessions-grid" id="sessions-sall">
                <!-- Sessions de M. SALL seront générées par JavaScript -->
            </div>
        </div>
    </div>

    <!-- LÉGENDE -->
    <div style="background: white; padding: 20px; border-radius: 12px; margin-top: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.08);">
        <h3 style="color: var(--primary); margin-top: 0;"><i class="fas fa-key"></i> Légende</h3>
        <div style="display: flex; flex-wrap: wrap; gap: 15px; font-size: 12px;">
            <div style="display: flex; align-items: center; gap: 5px;">
                <span class="formateur-badge badge-sy">SY</span> M. SY (Après-midi uniquement)
            </div>
            <div style="display: flex; align-items: center; gap: 5px;">
                <span class="formateur-badge badge-dione">DIONE</span> M. DIONE (Matin uniquement)
            </div>
            <div style="display: flex; align-items: center; gap: 5px;">
                <span class="formateur-badge badge-mbaye">MBAYE</span> M. MBAYE (Flexible)
            </div>
            <div style="display: flex; align-items: center; gap: 5px;">
                <span class="formateur-badge badge-diop">DIOP</span> M. DIOP (S1-S4 seulement)
            </div>
            <div style="display: flex; align-items: center; gap: 5px;">
                <span class="formateur-badge badge-sall">SALL</span> M. SALL (S5 seulement)
            </div>
            <div style="display: flex; align-items: center; gap: 5px;">
                <span class="time-badge matin">Matin</span> 8h30-12h30
            </div>
            <div style="display: flex; align-items: center; gap: 5px;">
                <span class="time-badge aprem">Après-midi</span> 14h00-18h00
            </div>
            <div style="display: flex; align-items: center; gap: 5px;">
                <span class="time-badge vendredi">Vendredi</span> 15h00-19h00
            </div>
        </div>
    </div>
</div>

<script>
    // Données complètes du planning
    const planningData = {
        // Semaine 1 (12-16/01) - Groupes 1-4
        "semaine1": {
            "lundi": [
                { groupe: "G1", session: "S1", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G2", session: "S1", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G3", session: "S1", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G4", session: "S1", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "mardi": [
                { groupe: "G5", session: "S1", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G6", session: "S1", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G7", session: "S1", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G8", session: "S1", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "mercredi": [
                { groupe: "G1", session: "S2", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G2", session: "S2", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G3", session: "S2", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G4", session: "S2", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "jeudi": [
                { groupe: "G5", session: "S2", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G6", session: "S2", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G7", session: "S2", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G8", session: "S2", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "vendredi": [
                { groupe: "G1", session: "S3", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G2", session: "S3", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G3", session: "S3", heure: "vendredi", salle: "Mbambey", formateur: "SY" },
                { groupe: "G4", session: "S3", heure: "vendredi", salle: "Salle2", formateur: "MBAYE" }
            ]
        },
        // Semaine 2 (19-23/01) - Groupes 1-8
        "semaine2": {
            "lundi": [
                { groupe: "G5", session: "S3", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G6", session: "S3", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G7", session: "S3", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G8", session: "S3", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "mardi": [
                { groupe: "G1", session: "S4", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G2", session: "S4", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G3", session: "S4", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G4", session: "S4", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "mercredi": [
                { groupe: "G5", session: "S4", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G6", session: "S4", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G7", session: "S4", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G8", session: "S4", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "jeudi": [
                { groupe: "G1", session: "S5", heure: "matin", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G2", session: "S5", heure: "matin", salle: "Salle2", formateur: "SALL" },
                { groupe: "G3", session: "S5", heure: "aprem", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G4", session: "S5", heure: "aprem", salle: "Salle2", formateur: "SALL" }
            ],
            "vendredi": [
                { groupe: "G5", session: "S5", heure: "matin", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G6", session: "S5", heure: "matin", salle: "Salle2", formateur: "SALL" },
                { groupe: "G7", session: "S5", heure: "vendredi", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G8", session: "S5", heure: "vendredi", salle: "Salle2", formateur: "SALL" }
            ]
        },
        // Semaine 3 (26-30/01) - Groupes 9-12
        "semaine3": {
            "lundi": [
                { groupe: "G9", session: "S1", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G10", session: "S1", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G11", session: "S1", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G12", session: "S1", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "mardi": [
                { groupe: "G13", session: "S1", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G14", session: "S1", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G15", session: "S1", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G16", session: "S1", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "mercredi": [
                { groupe: "G9", session: "S2", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G10", session: "S2", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G11", session: "S2", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G12", session: "S2", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "jeudi": [
                { groupe: "G13", session: "S2", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G14", session: "S2", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G15", session: "S2", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G16", session: "S2", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "vendredi": [
                { groupe: "G9", session: "S3", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G10", session: "S3", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G11", session: "S3", heure: "vendredi", salle: "Mbambey", formateur: "SY" },
                { groupe: "G12", session: "S3", heure: "vendredi", salle: "Salle2", formateur: "MBAYE" }
            ]
        },
        // Semaine 4 (02-06/02) - Groupes 9-16
        "semaine4": {
            "lundi": [
                { groupe: "G13", session: "S3", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G14", session: "S3", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G15", session: "S3", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G16", session: "S3", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "mardi": [
                { groupe: "G9", session: "S4", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G10", session: "S4", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G11", session: "S4", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G12", session: "S4", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "mercredi": [
                { groupe: "G13", session: "S4", heure: "matin", salle: "Mbambey", formateur: "DIONE" },
                { groupe: "G14", session: "S4", heure: "matin", salle: "Salle2", formateur: "DIOP" },
                { groupe: "G15", session: "S4", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G16", session: "S4", heure: "aprem", salle: "Salle2", formateur: "MBAYE" }
            ],
            "jeudi": [
                { groupe: "G9", session: "S5", heure: "matin", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G10", session: "S5", heure: "matin", salle: "Salle2", formateur: "SALL" },
                { groupe: "G11", session: "S5", heure: "aprem", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G12", session: "S5", heure: "aprem", salle: "Salle2", formateur: "SALL" }
            ],
            "vendredi": [
                { groupe: "G13", session: "S5", heure: "matin", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G14", session: "S5", heure: "matin", salle: "Salle2", formateur: "SALL" },
                { groupe: "G15", session: "S5", heure: "vendredi", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G16", session: "S5", heure: "vendredi", salle: "Salle2", formateur: "SALL" }
            ]
        },
        // Semaine 5 (09-13/02) - Groupes 17-20
        "semaine5": {
            "lundi": [
                { groupe: "G17", session: "S1", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G18", session: "S1", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G19", session: "S1", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G20", session: "S1", heure: "aprem", salle: "Salle2", formateur: "DIOP" }
            ],
            "mardi": [
                { groupe: "G21", session: "S1", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G22", session: "S1", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G23", session: "S1", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G24", session: "S1", heure: "aprem", salle: "Salle2", formateur: "DIOP" }
            ],
            "mercredi": [
                { groupe: "G17", session: "S2", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G18", session: "S2", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G19", session: "S2", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G20", session: "S2", heure: "aprem", salle: "Salle2", formateur: "DIOP" }
            ],
            "jeudi": [
                { groupe: "G21", session: "S2", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G22", session: "S2", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G23", session: "S2", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G24", session: "S2", heure: "aprem", salle: "Salle2", formateur: "DIOP" }
            ],
            "vendredi": [
                { groupe: "G17", session: "S3", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G18", session: "S3", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G19", session: "S3", heure: "vendredi", salle: "Mbambey", formateur: "SY" },
                { groupe: "G20", session: "S3", heure: "vendredi", salle: "Salle2", formateur: "DIOP" }
            ]
        },
        // Semaine 6 (16-20/02) - Groupes 17-24
        "semaine6": {
            "lundi": [
                { groupe: "G21", session: "S3", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G22", session: "S3", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G23", session: "S3", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G24", session: "S3", heure: "aprem", salle: "Salle2", formateur: "DIOP" }
            ],
            "mardi": [
                { groupe: "G17", session: "S4", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G18", session: "S4", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G19", session: "S4", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G20", session: "S4", heure: "aprem", salle: "Salle2", formateur: "DIOP" }
            ],
            "mercredi": [
                { groupe: "G21", session: "S4", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G22", session: "S4", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G23", session: "S4", heure: "aprem", salle: "Mbambey", formateur: "SY" },
                { groupe: "G24", session: "S4", heure: "aprem", salle: "Salle2", formateur: "DIOP" }
            ],
            "jeudi": [
                { groupe: "G17", session: "S5", heure: "matin", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G18", session: "S5", heure: "matin", salle: "Salle2", formateur: "SALL" },
                { groupe: "G19", session: "S5", heure: "aprem", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G20", session: "S5", heure: "aprem", salle: "Salle2", formateur: "SALL" }
            ],
            "vendredi": [
                { groupe: "G21", session: "S5", heure: "matin", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G22", session: "S5", heure: "matin", salle: "Salle2", formateur: "SALL" },
                { groupe: "G23", session: "S5", heure: "vendredi", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G24", session: "S5", heure: "vendredi", salle: "Salle2", formateur: "SALL" }
            ]
        },
        // Semaine 7 (23-27/02) - Groupes 25-27
        "semaine7": {
            "lundi": [
                { groupe: "G25", session: "S1", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G26", session: "S1", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G27", session: "S1", heure: "aprem", salle: "Mbambey", formateur: "SY" }
            ],
            "mardi": [],
            "mercredi": [
                { groupe: "G25", session: "S2", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G26", session: "S2", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G27", session: "S2", heure: "aprem", salle: "Mbambey", formateur: "SY" }
            ],
            "jeudi": [],
            "vendredi": [
                { groupe: "G25", session: "S3", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G26", session: "S3", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G27", session: "S3", heure: "vendredi", salle: "Mbambey", formateur: "SY" }
            ]
        },
        // Semaine 8 (02-04/03) - Groupes 25-27
        "semaine8": {
            "lundi": [
                { groupe: "G25", session: "S4", heure: "matin", salle: "Mbambey", formateur: "MBAYE" },
                { groupe: "G26", session: "S4", heure: "matin", salle: "Salle2", formateur: "DIONE" },
                { groupe: "G27", session: "S4", heure: "aprem", salle: "Mbambey", formateur: "DIOP" }
            ],
            "mardi": [],
            "mercredi": [
                { groupe: "G25", session: "S5", heure: "matin", salle: "Mbambey", formateur: "SALL" },
                { groupe: "G26", session: "S5", heure: "matin", salle: "Salle2", formateur: "SALL" },
                { groupe: "G27", session: "S5", heure: "aprem", salle: "Mbambey", formateur: "SALL" }
            ],
            "jeudi": [],
            "vendredi": []
        }
    };

    // Données des modules
    const modules = {
        "S1": "Concepts de base de l'informatique",
        "S2": "Présentation générale des systèmes d'exploitation",
        "S3": "Prise en main de l'environnement Windows",
        "S4": "Suite bureautique - Word, Excel, PowerPoint",
        "S5": "ENT + Dispositifs pédagogiques institutionnels"
    };

    // Données des semaines
    const semainesInfo = [
        { nom: "Semaine 1", dates: "12-16/01", groupes: "Groupes 1-4", key: "semaine1" },
        { nom: "Semaine 2", dates: "19-23/01", groupes: "Groupes 1-8", key: "semaine2" },
        { nom: "Semaine 3", dates: "26-30/01", groupes: "Groupes 9-12", key: "semaine3" },
        { nom: "Semaine 4", dates: "02-06/02", groupes: "Groupes 9-16", key: "semaine4" },
        { nom: "Semaine 5", dates: "09-13/02", groupes: "Groupes 17-20", key: "semaine5" },
        { nom: "Semaine 6", dates: "16-20/02", groupes: "Groupes 17-24", key: "semaine6" },
        { nom: "Semaine 7", dates: "23-27/02", groupes: "Groupes 25-27", key: "semaine7" },
        { nom: "Semaine 8", dates: "02-04/03", groupes: "Fin Groupes 25-27", key: "semaine8" }
    ];

    // Fonction pour formater la date
    function formatDate(semaineKey, jour) {
        const semainesDates = {
            "semaine1": { lundi: "12/01", mardi: "13/01", mercredi: "14/01", jeudi: "15/01", vendredi: "16/01" },
            "semaine2": { lundi: "19/01", mardi: "20/01", mercredi: "21/01", jeudi: "22/01", vendredi: "23/01" },
            "semaine3": { lundi: "26/01", mardi: "27/01", mercredi: "28/01", jeudi: "29/01", vendredi: "30/01" },
            "semaine4": { lundi: "02/02", mardi: "03/02", mercredi: "04/02", jeudi: "05/02", vendredi: "06/02" },
            "semaine5": { lundi: "09/02", mardi: "10/02", mercredi: "11/02", jeudi: "12/02", vendredi: "13/02" },
            "semaine6": { lundi: "16/02", mardi: "17/02", mercredi: "18/02", jeudi: "19/02", vendredi: "20/02" },
            "semaine7": { lundi: "23/02", mardi: "", mercredi: "25/02", jeudi: "", vendredi: "27/02" },
            "semaine8": { lundi: "02/03", mardi: "", mercredi: "04/03", jeudi: "", vendredi: "" }
        };
        
        return semainesDates[semaineKey][jour] || "";
    }

    // Fonction pour générer le planning global
    function generateGlobalPlanning() {
        const tbody = document.getElementById('planningTable');
        tbody.innerHTML = '';
        
        semainesInfo.forEach((semaine) => {
            const row = document.createElement('tr');
            
            // Cellule de la semaine
            const semaineCell = document.createElement('td');
            semaineCell.innerHTML = `<strong>${semaine.nom}<br>(${semaine.dates})</strong><br><small>${semaine.groupes}</small>`;
            
            // Cellules pour chaque jour
            const jours = ["lundi", "mardi", "mercredi", "jeudi", "vendredi"];
            let joursCells = '';
            
            jours.forEach(jour => {
                const sessions = planningData[semaine.key][jour] || [];
                let cellContent = '';
                
                sessions.forEach(session => {
                    // Déterminer la classe du badge formateur
                    let badgeClass = '';
                    switch(session.formateur) {
                        case 'SY': badgeClass = 'badge-sy'; break;
                        case 'DIONE': badgeClass = 'badge-dione'; break;
                        case 'MBAYE': badgeClass = 'badge-mbaye'; break;
                        case 'DIOP': badgeClass = 'badge-diop'; break;
                        case 'SALL': badgeClass = 'badge-sall'; break;
                    }
                    
                    // Déterminer la classe du badge heure
                    let timeClass = '';
                    switch(session.heure) {
                        case 'matin': timeClass = 'matin'; break;
                        case 'aprem': timeClass = 'aprem'; break;
                        case 'vendredi': timeClass = 'vendredi'; break;
                    }
                    
                    cellContent += `
                        <div style="margin-bottom: 5px;">
                            <span class="session-badge">${session.groupe} - ${session.session}</span><br>
                            <span class="formateur-badge ${badgeClass}">${session.formateur}</span>
                            <span class="time-badge ${timeClass}">${session.heure === 'vendredi' ? '15h-19h' : session.heure === 'matin' ? '8h30-12h30' : '14h-18h'}</span><br>
                            <small style="color: #666;">${session.salle}</small>
                        </div>
                    `;
                });
                
                joursCells += `<td>${cellContent || '-'}</td>`;
            });
            
            row.innerHTML = `${semaineCell.outerHTML}${joursCells}`;
            tbody.appendChild(row);
        });
    }

    // Fonction pour générer le planning par formateur
    function generateFormateurPlanning(formateurId) {
        const container = document.getElementById(`sessions-${formateurId}`);
        if (!container) return;
        
        container.innerHTML = '';
        
        // Collecter toutes les sessions de ce formateur
        let allSessions = [];
        
        // Parcourir toutes les semaines et jours
        Object.keys(planningData).forEach(semaineKey => {
            Object.keys(planningData[semaineKey]).forEach(jour => {
                const sessions = planningData[semaineKey][jour];
                if (Array.isArray(sessions)) {
                    sessions.forEach(session => {
                        if (session.formateur === formateurId.toUpperCase()) {
                            // Trouver le nom de la semaine
                            const semaineInfo = semainesInfo.find(s => s.key === semaineKey);
                            const semaineNom = semaineInfo ? `${semaineInfo.nom} (${semaineInfo.dates})` : semaineKey;
                            
                            allSessions.push({
                                ...session,
                                semaine: semaineNom,
                                jour: jour,
                                date: formatDate(semaineKey, jour),
                                semaineKey: semaineKey
                            });
                        }
                    });
                }
            });
        });
        
        // Trier les sessions par semaine et jour
        allSessions.sort((a, b) => {
            // Trier d'abord par semaine
            const semaineOrder = semainesInfo.findIndex(s => s.key === a.semaineKey) - 
                               semainesInfo.findIndex(s => s.key === b.semaineKey);
            if (semaineOrder !== 0) return semaineOrder;
            
            // Ensuite par jour
            const jourOrder = { lundi: 0, mardi: 1, mercredi: 2, jeudi: 3, vendredi: 4 };
            return jourOrder[a.jour] - jourOrder[b.jour];
        });
        
        // Afficher les sessions
        allSessions.forEach(session => {
            const sessionCard = document.createElement('div');
            sessionCard.className = 'session-card';
            
            const heureTexte = session.heure === 'vendredi' ? '15h00-19h00' : 
                              session.heure === 'matin' ? '8h30-12h30' : '14h00-18h00';
            
            sessionCard.innerHTML = `
                <div class="session-date">
                    ${session.semaine} • ${session.jour.charAt(0).toUpperCase() + session.jour.slice(1)} ${session.date}
                </div>
                <div class="session-details">
                    <span class="session-group">${session.groupe}</span>
                    <span class="session-module">${session.session}</span>
                </div>
                <div class="session-time-room">
                    <span><i class="fas fa-clock"></i> ${heureTexte}</span>
                    <span><i class="fas fa-door-open"></i> ${session.salle}</span>
                </div>
                <div style="font-size: 10px; color: #888; margin-top: 5px;">
                    ${modules[session.session]}
                </div>
            `;
            
            container.appendChild(sessionCard);
        });
        
        // Si aucune session, afficher un message
        if (allSessions.length === 0) {
            container.innerHTML = `
                <div style="text-align: center; padding: 40px; color: #666;">
                    <i class="fas fa-calendar-times" style="font-size: 48px; margin-bottom: 15px;"></i>
                    <h3>Aucune session planifiée</h3>
                    <p>Ce formateur n'a pas de sessions attribuées.</p>
                </div>
            `;
        }
    }

    // Fonction pour changer d'onglet
    function switchTab(tabId) {
        // Masquer tous les onglets
        document.querySelectorAll('.tab').forEach(tab => {
            tab.classList.remove('active');
        });
        
        // Masquer tous les plannings
        document.getElementById('planning-global').style.display = 'none';
        document.querySelectorAll('.formateur-planning-container').forEach(container => {
            container.classList.remove('active');
        });
        
        // Activer l'onglet sélectionné
        document.querySelector(`.tab[data-tab="${tabId}"]`).classList.add('active');
        
        // Afficher le planning correspondant
        if (tabId === 'global') {
            document.getElementById('planning-global').style.display = 'block';
        } else {
            document.getElementById(`planning-${tabId}`).classList.add('active');
            generateFormateurPlanning(tabId);
        }
    }

    // Fonction pour calculer les statistiques
    function calculateStats() {
        let totalSessions = 0;
        const formateurStats = {
            'SY': 0,
            'DIONE': 0,
            'MBAYE': 0,
            'DIOP': 0,
            'SALL': 0
        };
        
        // Parcourir toutes les semaines
        Object.values(planningData).forEach(semaine => {
            Object.values(semaine).forEach(jour => {
                if (Array.isArray(jour)) {
                    jour.forEach(session => {
                        totalSessions++;
                        formateurStats[session.formateur]++;
                    });
                }
            });
        });
        
        // Mettre à jour l'affichage
        document.getElementById('totalSessions').textContent = totalSessions;
    }

    // Initialisation
    document.addEventListener('DOMContentLoaded', function() {
        // Générer le planning global
        generateGlobalPlanning();
        
        // Calculer les statistiques
        calculateStats();
        
        // Écouteurs d'événements pour les cartes de formateurs
        document.querySelectorAll('.formateur-card').forEach(card => {
            card.addEventListener('click', function() {
                // Retirer la classe active de toutes les cartes
                document.querySelectorAll('.formateur-card').forEach(c => {
                    c.classList.remove('active');
                });
                
                // Ajouter la classe active à la carte cliquée
                this.classList.add('active');
                
                // Basculer vers l'onglet correspondant
                const formateurId = this.dataset.formateur.toLowerCase();
                switchTab(formateurId);
            });
        });
        
        // Écouteurs d'événements pour les onglets
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', function() {
                const tabId = this.dataset.tab;
                switchTab(tabId);
                
                // Mettre à jour la carte de formateur active
                if (tabId !== 'global') {
                    document.querySelectorAll('.formateur-card').forEach(card => {
                        card.classList.remove('active');
                        if (card.dataset.formateur === tabId.toUpperCase()) {
                            card.classList.add('active');
                        }
                    });
                }
            });
        });
        
        // Générer le planning du premier formateur (M. SY)
        generateFormateurPlanning('sy');
    });
</script>
</body>
</html>
